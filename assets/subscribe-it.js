window.RS = Window.RS || {};
RS.Config = {
    "customerPortalSettings": JSON.parse("{\"id\":429,\"shop\":\"keto-brainz.myshopify.com\",\"orderFrequencyText\":\"Order Schedule\",\"totalProductsText\":null,\"nextOrderText\":null,\"statusText\":null,\"cancelSubscriptionBtnText\":null,\"noSubscriptionMessage\":null,\"subscriptionNoText\":null,\"updatePaymentMessage\":null,\"cardLastFourDigitText\":null,\"cardExpiryText\":null,\"cardHolderNameText\":null,\"cardTypeText\":null,\"paymentMethodTypeText\":null,\"cancelAccordionTitle\":null,\"paymentDetailAccordionTitle\":null,\"upcomingOrderAccordionTitle\":null,\"paymentInfoText\":null,\"updatePaymentBtnText\":null,\"nextOrderDateLbl\":null,\"statusLbl\":null,\"quantityLbl\":null,\"amountLbl\":null,\"orderNoLbl\":null,\"editFrequencyBtnText\":null,\"cancelFreqBtnText\":null,\"updateFreqBtnText\":null,\"pauseResumeSub\":null,\"changeNextOrderDate\":null,\"cancelSub\":null,\"changeOrderFrequency\":null,\"createAdditionalOrder\":null,\"manageSubscriptionButtonText\":null,\"editChangeOrderBtnText\":null,\"cancelChangeOrderBtnText\":null,\"updateChangeOrderBtnText\":null,\"editProductButtonText\":null,\"deleteButtonText\":null,\"updateButtonText\":null,\"cancelButtonText\":null,\"addProductButtonText\":null,\"addProductLabelText\":null,\"activeBadgeText\":null,\"closeBadgeText\":null,\"skipOrderButtonText\":null,\"productLabelText\":null,\"seeMoreDetailsText\":null,\"hideDetailsText\":null,\"productInSubscriptionText\":null,\"subTotalLabelText\":null,\"paymentNotificationText\":null,\"editProductFlag\":null,\"deleteProductFlag\":null,\"showShipment\":null,\"addAdditionalProduct\":null,\"successText\":null,\"cancelSubscriptionConfirmPrepaidText\":null,\"cancelSubscriptionConfirmPayAsYouGoText\":null,\"cancelSubscriptionPrepaidButtonText\":null,\"cancelSubscriptionPayAsYouGoButtonText\":null,\"upcomingFulfillmentText\":null,\"creditCardText\":null,\"endingWithText\":null,\"weekText\":null,\"dayText\":null,\"monthText\":null,\"yearText\":null,\"skipBadgeText\":null,\"queueBadgeText\":null,\"shippingLabelText\":null,\"address1LabelText\":null,\"address2LabelText\":null,\"companyLabelText\":null,\"cityLabelText\":null,\"countryLabelText\":null,\"firstNameLabelText\":null,\"lastNameLabelText\":null,\"phoneLabelText\":null,\"provinceLabelText\":null,\"zipLabelText\":null,\"addressHeaderTitleText\":null,\"changeShippingAddressFlag\":null,\"updateEditShippingButtonText\":null,\"cancelEditShippingButtonText\":null,\"pauseSubscriptionText\":null,\"resumeSubscriptionText\":null,\"pauseBadgeText\":null,\"customerPortalSettingJson\":null,\"discountNoteTitle\":null,\"initialDiscountNoteDescription\":null,\"afterCycleDiscountNoteDescription\":null,\"productRemovedTooltip\":null,\"deliveryPriceText\":null,\"shippingOptionText\":null,\"nextDeliveryDate\":null,\"everyLabelText\":null,\"orderNoteFlag\":null,\"orderNoteText\":null,\"useUrlWithCustomerId\":null,\"expiredTokenText\":null,\"portalLoginLinkText\":null,\"localeDate\":null,\"productSelectionOption\":null,\"includeOutOfStockProduct\":null,\"customerIdText\":null,\"helloNameText\":null,\"goBackButtonText\":null,\"changeVariantLabelText\":null,\"provinceCodeLabelText\":null,\"countryCodeLabelText\":null,\"pleaseWaitLoaderText\":null,\"openBadgeText\":null,\"cancelSubscriptionMinimumBillingIterationsMessage\":null,\"topHtml\":null,\"bottomHtml\":null,\"updateShipmentBillingDate\":null,\"discountCodeText\":null,\"discountCodeApplyButtonText\":null,\"discountCode\":null,\"applySubscriptionDiscount\":null,\"subscriptionDiscountTypeUnit\":null,\"subscriptionDiscount\":null,\"upSellMessage\":null,\"freezeOrderTillMinCycle\":null,\"freezeUpdateSubscriptionMessage\":null,\"addOneTimeProduct\":null,\"selectProductLabelText\":null,\"purchaseOptionLabelText\":null,\"finishLabelText\":null,\"nextBtnText\":null,\"previousBtnText\":null,\"closeBtnText\":null,\"deleteConfirmationMsgText\":null,\"deleteMsgText\":null,\"yesBtnText\":null,\"noBtnText\":null,\"oneTimePurchaseNoteText\":null,\"clickHereText\":null,\"productAddMessageText\":null,\"choosePurchaseOptionLabelText\":null,\"oneTimePurchaseMessageText\":null,\"contractUpdateMessageText\":null,\"oneTimePurchaseDisplayMessageText\":null,\"addProductFinishedMessageText\":null,\"contractErrorMessageText\":null,\"addToSubscriptionTitleCP\":null,\"oneTimePurchaseTitleCP\":null,\"seeMoreProductBtnText\":null,\"totalPricePerDeliveryText\":null,\"fulfilledText\":null,\"dateFormat\":null,\"discountCouponAppliedText\":null,\"subscriptionPausedMessageText\":null,\"subscriptionActivatedMessageText\":null,\"unableToUpdateSubscriptionStatusMessageText\":null,\"editQuantityLabelText\":null}"),
    "themeSettings":JSON.parse("{\"id\":438,\"shop\":\"keto-brainz.myshopify.com\",\"skip_setting_theme\":true,\"themeName\":\"dawn\",\"dropdownContainerSelector\":null,\"customJavascript\":null,\"selectedSelector\":\"\",\"placement\":null,\"customerPortalLinkSelector\":\"\",\"customerPortalLinkPlacement\":null,\"priceSelector\":\".price-item.price-item--regular\"}"),
    "subscriptionWidgetSettings": JSON.parse("{\"id\":424,\"shop\":\"keto-brainz.myshopify.com\",\"oneTimePurchaseText\":\"One Time Purchase\",\"deliveryText\":null,\"purchaseOptionsText\":\"Purchase Options\",\"subscriptionOptionText\":\"(Save 5%)\",\"sellingPlanSelectTitle\":\"\",\"tooltipTitle\":\"Tooltip Title\",\"tooltipDescription\":\"Default Tooltip Description\",\"subscriptionWidgetMarginTop\":null,\"subscriptionWidgetMarginBottom\":null,\"subscriptionWrapperBorderWidth\":null,\"subscriptionWrapperBorderColor\":null,\"circleBorderColor\":null,\"dotBackgroundColor\":null,\"selectPaddingTop\":10,\"selectPaddingBottom\":10,\"selectPaddingLeft\":null,\"selectPaddingRight\":null,\"selectBorderWidth\":null,\"selectBorderStyle\":null,\"selectBorderColor\":null,\"selectBorderRadius\":null,\"tooltipSubscriptionSvgFill\":null,\"tooltipColor\":null,\"tooltipBackgroundColor\":\"#fab606\",\"tooltipBorderTopColorBorderTopColor\":null,\"subscriptionFinalPriceColor\":\"#f93d32\",\"subscriptionWidgetTextColor\":\"#000000\",\"orderStatusManageSubscriptionTitle\":\"Manage Your Subscription\",\"orderStatusManageSubscriptionDescription\":\"Please review your subscription details before ordering.\",\"orderStatusManageSubscriptionButtonText\":\"Manage My Subscription\",\"showTooltipOnClick\":null,\"subscriptionOptionSelectedByDefault\":true,\"widgetEnabled\":true,\"showTooltip\":false,\"sellingPlanTitleText\":null,\"oneTimePriceText\":\"\",\"selectedPayAsYouGoSellingPlanPriceText\":null,\"selectedPrepaidSellingPlanPriceText\":null,\"selectedDiscountFormat\":null,\"manageSubscriptionBtnFormat\":null,\"tooltipDescriptionOnPrepaidPlan\":\"Tooltip Description On Prepaid Plan\",\"tooltipDescriptionOnMultipleDiscount\":null,\"tooltipDescriptionCustomization\":null,\"showStaticTooltip\":false,\"subscriptionPriceDisplayText\":null,\"sortByDefaultSequence\":null,\"showSubOptionBeforeOneTime\":true,\"showCheckoutSubscriptionBtn\":true,\"totalPricePerDeliveryText\":null,\"addSubscriptionToCartButtonText\":\"SUBSCRIBE NOW\"}")
 };

// Need to apply condition run only on thank you page

var widget_settings = window.RS.Config.subscriptionWidgetSettings;

var title = window.RS.Config.subscriptionWidgetSettings.orderStatusManageSubscriptionTitle || "Subscription"
var description = window.RS.Config.subscriptionWidgetSettings.orderStatusManageSubscriptionDescription || "To check and manage your subscriptions, go to your account. Use the same email address you used to purchase the subscription."

if ((window.location.href.includes('/orders/') || window.location.href.includes('/checkouts/')) && Shopify.Checkout.hasSellingPlan && widget_settings.showCheckoutSubscriptionBtn) {
    var url = "/apps/subscription?customer_id=" + Shopify.checkout.customer_id
    Shopify.Checkout.OrderStatus.addContentBox('<h2>'+ title +'</h2>', '<p>'+ description +'</p>', '<a class="ui-button btn btn--subdued btn--size-small shown-if-js os-step__info" id="#praash-redirect">Manage your subscription</a>')

    document.getElementById('#praash-redirect').onclick = function () {
        window.location.href = url;
    }
}
